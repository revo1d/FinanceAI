<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Финансовый Ассистент</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.6.9/dist/ethers.umd.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1E1E1E;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .button {
            background-color: #2A2A2A;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            width: 100%;
            font-size: 18px;
            margin: 10px 0;
        }
        .button:hover {
            background-color: #444;
        }
        .input-field {
            width: 100%;
            padding: 10px;
            background-color: #2A2A2A;
            color: white;
            border: none;
            margin: 5px 0;
        }
    </style>
</head>
<body>

    <h1>Добро пожаловать в Финансового Ассистента</h1>
    
    <button class="button" onclick="connectWallet()">Подключить кошелек</button>
    <div id="walletInfo"></div>

    <h2>Добавить данные</h2>
    <input type="number" id="income" class="input-field" placeholder="Введите ваш доход">
    <input type="number" id="expense" class="input-field" placeholder="Введите ваш расход">
    <input type="text" id="category" class="input-field" placeholder="Категория расхода">
    
    <button class="button" onclick="submitData()">Добавить данные</button>

    <script>
        let provider;
        let signer;
        let userAddress;

        // Функция для подключения кошелька через MetaMask
        async function connectWallet() {
            if (typeof window.ethereum !== 'undefined') {
                provider = new ethers.providers.Web3Provider(window.ethereum);
                await provider.send('eth_requestAccounts', []);
                signer = provider.getSigner();
                userAddress = await signer.getAddress();
                document.getElementById("walletInfo").innerHTML = `Ваш адрес: ${userAddress}`;
            } else {
                alert('MetaMask не установлен!');
            }
        }

        // Функция для отправки данных на сервер
        function submitData() {
            const income = document.getElementById('income').value;
            const expense = document.getElementById('expense').value;
            const category = document.getElementById('category').value;

            if (income && expense && category) {
                alert('Данные успешно добавлены!');
                // Здесь можно отправить данные на сервер или взаимодействовать с блокчейном
            } else {
                alert('Пожалуйста, заполните все поля!');
            }
        }
    </script>
</body>
</html>
